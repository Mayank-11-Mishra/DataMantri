<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DataMantri Mobile</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #F0F2F5;
            color: #333333;
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* Main Container */
        .container {
            max-width: 420px;
            margin: 0 auto;
            min-height: 100vh;
            position: relative;
            z-index: 1;
        }

        /* Header */
        .header {
            position: sticky;
            top: 0;
            z-index: 100;
            background: #1976D2;
            padding: 16px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo {
            width: 40px;
            height: 40px;
            background: white;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            color: #1976D2;
            font-weight: bold;
        }

        .app-title {
            font-size: 20px;
            font-weight: 700;
            color: white;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .header-btn {
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            color: white;
        }

        .header-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .notification-badge {
            position: absolute;
            top: -2px;
            right: -2px;
            width: 12px;
            height: 12px;
            background: #F44336;
            border-radius: 50%;
            border: 2px solid #1976D2;
        }

        /* Main Content */
        .main-content {
            padding: 20px;
            min-height: calc(100vh - 80px);
        }

        /* Login Screen */
        .login-screen {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 40px 20px;
            background: #F0F2F5;
        }

        .login-card {
            background: white;
            border-radius: 16px;
            padding: 48px 32px;
            width: 100%;
            max-width: 380px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .logo-section {
            text-align: center;
            margin-bottom: 48px;
        }

        .logo-container {
            position: relative;
            display: inline-block;
            margin-bottom: 24px;
        }

        .logo-large {
            width: 88px;
            height: 88px;
            background: #1976D2;
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 40px;
            font-weight: bold;
            box-shadow: 0 8px 24px rgba(25, 118, 210, 0.3);
        }

        .app-name {
            font-size: 36px;
            font-weight: 800;
            color: #1976D2;
            margin-bottom: 8px;
            letter-spacing: -1px;
        }

        .tagline {
            color: #666666;
            font-size: 16px;
            font-weight: 500;
        }

        .form-section {
            margin-bottom: 32px;
        }

        .form-title {
            font-size: 28px;
            font-weight: 700;
            text-align: center;
            margin-bottom: 8px;
            color: #333333;
        }

        .form-subtitle {
            text-align: center;
            color: #666666;
            margin-bottom: 32px;
            font-size: 16px;
        }

        .input-group {
            margin-bottom: 20px;
            position: relative;
        }

        .input {
            width: 100%;
            padding: 18px 24px;
            background: #F8F9FA;
            border: 1px solid #E0E0E0;
            border-radius: 12px;
            color: #333333;
            font-size: 16px;
            font-weight: 500;
            transition: all 0.3s ease;
            outline: none;
        }

        .input::placeholder {
            color: #999999;
        }

        .input:focus {
            border-color: #1976D2;
            background: white;
            box-shadow: 0 0 0 3px rgba(25, 118, 210, 0.1);
        }

        .btn {
            width: 100%;
            padding: 18px 24px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .btn-primary {
            background: #1976D2;
            color: white;
            margin-bottom: 20px;
            box-shadow: 0 4px 16px rgba(25, 118, 210, 0.3);
        }

        .btn-primary:hover {
            background: #1565C0;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(25, 118, 210, 0.4);
        }

        .btn-secondary {
            background: white;
            color: #1976D2;
            border: 1px solid #E0E0E0;
        }

        .btn-secondary:hover {
            background: #F8F9FA;
            border-color: #1976D2;
        }

        .divider {
            display: flex;
            align-items: center;
            margin: 24px 0;
        }

        .divider-line {
            flex: 1;
            height: 1px;
            background: #E0E0E0;
        }

        .divider-text {
            margin: 0 20px;
            color: #999999;
            font-size: 14px;
            font-weight: 500;
        }

        .features {
            margin-top: 32px;
        }

        .feature-item {
            display: flex;
            align-items: center;
            margin-bottom: 16px;
            padding: 12px 0;
        }

        .feature-icon {
            width: 32px;
            height: 32px;
            background: #4CAF50;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 16px;
            color: white;
            font-size: 14px;
            font-weight: bold;
        }

        .feature-text {
            color: #666666;
            font-size: 15px;
            font-weight: 500;
        }

        /* Homepage */
        .homepage {
            display: none;
        }

        .welcome-section {
            margin-bottom: 32px;
        }

        .welcome-title {
            font-size: 28px;
            font-weight: 700;
            color: #333333;
            margin-bottom: 8px;
        }

        .welcome-subtitle {
            color: #666666;
            font-size: 16px;
        }

        .quick-stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
            margin-bottom: 32px;
        }

        .stat-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            border: 1px solid #E0E0E0;
        }

        .stat-value {
            font-size: 24px;
            font-weight: 700;
            color: #1976D2;
            margin-bottom: 4px;
        }

        .stat-label {
            color: #666666;
            font-size: 14px;
            font-weight: 500;
        }

        .folders-section {
            margin-bottom: 32px;
        }

        .section-title {
            font-size: 20px;
            font-weight: 600;
            color: #333333;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .folders-grid {
            display: grid;
            gap: 16px;
        }

        .folder-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            border: 1px solid #E0E0E0;
        }

        .folder-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
        }

        .folder-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 12px;
        }

        .folder-title {
            font-size: 18px;
            font-weight: 600;
            color: #333333;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .folder-count {
            background: #E3F2FD;
            color: #1976D2;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }

        .folder-description {
            color: #666666;
            font-size: 14px;
            line-height: 1.5;
        }

        /* Dashboard List */
        .dashboard-list {
            display: none;
        }

        .back-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #666666;
            font-size: 16px;
            font-weight: 500;
            margin-bottom: 24px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .back-btn:hover {
            color: #1976D2;
        }

        .dashboard-grid {
            display: grid;
            gap: 16px;
        }

        .dashboard-card {
            background: white;
            border-radius: 12px;
            padding: 24px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            border: 1px solid #E0E0E0;
        }

        .dashboard-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
        }

        .dashboard-title {
            font-size: 18px;
            font-weight: 600;
            color: #333333;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .dashboard-description {
            color: #666666;
            margin-bottom: 16px;
            line-height: 1.5;
            font-size: 14px;
        }

        .dashboard-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chart-count {
            background: #1976D2;
            color: white;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }

        .last-updated {
            color: #999999;
            font-size: 12px;
            font-weight: 500;
        }

        /* User Profile Modal */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .modal.show {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 16px;
            padding: 32px;
            width: 100%;
            max-width: 360px;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .modal-title {
            font-size: 20px;
            font-weight: 700;
            color: #333333;
        }

        .close-btn {
            background: none;
            border: none;
            color: #666666;
            font-size: 24px;
            cursor: pointer;
            padding: 4px;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .close-btn:hover {
            color: #333333;
            background: #F8F9FA;
        }

        .user-info {
            text-align: center;
            margin-bottom: 32px;
        }

        .user-avatar {
            width: 80px;
            height: 80px;
            background: #1976D2;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            color: white;
            margin: 0 auto 16px;
            box-shadow: 0 4px 16px rgba(25, 118, 210, 0.3);
        }

        .user-name {
            font-size: 20px;
            font-weight: 600;
            color: #333333;
            margin-bottom: 4px;
        }

        .user-email {
            color: #666666;
            font-size: 14px;
        }

        .menu-item {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 16px 0;
            border-bottom: 1px solid #E0E0E0;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .menu-item:last-child {
            border-bottom: none;
        }

        .menu-item:hover {
            background: #F8F9FA;
            margin: 0 -16px;
            padding: 16px;
            border-radius: 12px;
        }

        .menu-icon {
            width: 40px;
            height: 40px;
            background: #E3F2FD;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            color: #1976D2;
        }

        .menu-text {
            flex: 1;
        }

        .menu-title {
            font-size: 16px;
            font-weight: 500;
            color: #333333;
            margin-bottom: 2px;
        }

        .menu-subtitle {
            font-size: 12px;
            color: #666666;
        }

        .menu-arrow {
            color: #999999;
            font-size: 16px;
        }

        /* Floating AI Assistant */
        .ai-buddy {
            position: fixed;
            bottom: 24px;
            right: 24px;
            width: 64px;
            height: 64px;
            background: #1976D2;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 8px 24px rgba(25, 118, 210, 0.4);
            z-index: 1000;
            transition: all 0.3s ease;
            animation: buddyFloat 3s ease-in-out infinite;
        }

        @keyframes buddyFloat {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-8px) rotate(5deg); }
        }

        .ai-buddy:hover {
            transform: scale(1.1);
            box-shadow: 0 12px 32px rgba(25, 118, 210, 0.6);
        }

        .ai-buddy .emoji {
            font-size: 28px;
            color: white;
            animation: buddyPulse 2s infinite;
        }

        @keyframes buddyPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        /* Chat Modal */
        .chat-modal {
            position: fixed;
            bottom: 100px;
            right: 24px;
            width: 340px;
            height: 520px;
            background: white;
            border-radius: 16px;
            z-index: 1001;
            display: none;
            flex-direction: column;
            overflow: hidden;
            transform: translateY(20px) scale(0.9);
            opacity: 0;
            transition: all 0.3s ease;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        }

        .chat-modal.show {
            display: flex;
            transform: translateY(0) scale(1);
            opacity: 1;
        }

        .chat-header {
            background: #1976D2;
            color: white;
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .chat-header h3 {
            font-size: 18px;
            font-weight: 700;
        }

        .close-chat {
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            padding: 4px;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .close-chat:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: #F8F9FA;
        }

        .message {
            margin-bottom: 16px;
            display: flex;
            align-items: flex-start;
        }

        .message.user {
            justify-content: flex-end;
        }

        .message-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            margin: 0 12px;
        }

        .message.user .message-avatar {
            background: #1976D2;
            color: white;
        }

        .message.ai .message-avatar {
            background: #4CAF50;
            color: white;
        }

        .message-content {
            max-width: 220px;
            padding: 16px 20px;
            border-radius: 20px;
            font-size: 14px;
            line-height: 1.5;
            font-weight: 500;
        }

        .message.user .message-content {
            background: #1976D2;
            color: white;
            border-bottom-right-radius: 6px;
        }

        .message.ai .message-content {
            background: white;
            color: #333333;
            border: 1px solid #E0E0E0;
            border-bottom-left-radius: 6px;
        }

        .chat-input {
            padding: 20px;
            border-top: 1px solid #E0E0E0;
            display: flex;
            gap: 12px;
            background: white;
        }

        .chat-input input {
            flex: 1;
            padding: 14px 20px;
            background: #F8F9FA;
            border: 1px solid #E0E0E0;
            border-radius: 24px;
            color: #333333;
            font-size: 14px;
            outline: none;
        }

        .chat-input input::placeholder {
            color: #999999;
        }

        .chat-input button {
            background: #1976D2;
            color: white;
            border: none;
            border-radius: 50%;
            width: 44px;
            height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 18px;
            transition: all 0.3s ease;
        }

        .chat-input button:hover {
            background: #1565C0;
            transform: scale(1.1);
        }

        /* Responsive */
        @media (max-width: 480px) {
            .container {
                padding: 0;
            }
            
            .main-content {
                padding: 16px;
            }

            .chat-modal {
                width: calc(100vw - 40px);
                right: 20px;
                left: 20px;
            }

            .ai-buddy {
                bottom: 20px;
                right: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Floating AI Assistant -->
    <div class="ai-buddy" onclick="toggleChat()">
        <div class="emoji">ü§ñ</div>
    </div>

    <!-- Chat Modal -->
    <div id="chatModal" class="chat-modal">
        <div class="chat-header">
            <h3>AI Assistant</h3>
            <button class="close-chat" onclick="toggleChat()">√ó</button>
        </div>
        <div class="chat-messages" id="chatMessages">
            <div class="message ai">
                <div class="message-avatar">ü§ñ</div>
                <div class="message-content">
                    Hi! I'm your DataMantri AI assistant. Ask me anything about your data! üöÄ
                </div>
            </div>
        </div>
        <div class="chat-input">
            <input type="text" id="chatInput" placeholder="Ask me about your data..." onkeypress="handleChatKeyPress(event)">
            <button onclick="sendMessage()">üì§</button>
        </div>
    </div>

    <!-- User Profile Modal -->
    <div id="userModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">Profile</div>
                <button class="close-btn" onclick="closeUserModal()">√ó</button>
            </div>
            
            <div class="user-info">
                <div class="user-avatar">üë§</div>
                <div class="user-name">John Doe</div>
                <div class="user-email">john.doe@datamantri.com</div>
            </div>

            <div class="menu-item" onclick="showNotifications()">
                <div class="menu-icon">üîî</div>
                <div class="menu-text">
                    <div class="menu-title">Notifications</div>
                    <div class="menu-subtitle">Manage your alerts</div>
                </div>
                <div class="menu-arrow">‚Ä∫</div>
            </div>

            <div class="menu-item" onclick="showSettings()">
                <div class="menu-icon">‚öôÔ∏è</div>
                <div class="menu-text">
                    <div class="menu-title">Settings</div>
                    <div class="menu-subtitle">App preferences</div>
                </div>
                <div class="menu-arrow">‚Ä∫</div>
            </div>

            <div class="menu-item" onclick="showHelp()">
                <div class="menu-icon">‚ùì</div>
                <div class="menu-text">
                    <div class="menu-title">Help & Support</div>
                    <div class="menu-subtitle">Get assistance</div>
                </div>
                <div class="menu-arrow">‚Ä∫</div>
            </div>

            <div class="menu-item" onclick="showAbout()">
                <div class="menu-icon">‚ÑπÔ∏è</div>
                <div class="menu-text">
                    <div class="menu-title">About</div>
                    <div class="menu-subtitle">App version 1.0.0</div>
                </div>
                <div class="menu-arrow">‚Ä∫</div>
            </div>

            <div class="menu-item" onclick="handleLogout()">
                <div class="menu-icon">üö™</div>
                <div class="menu-text">
                    <div class="menu-title">Logout</div>
                    <div class="menu-subtitle">Sign out of your account</div>
                </div>
                <div class="menu-arrow">‚Ä∫</div>
            </div>
        </div>
    </div>

    <div class="container">
        <!-- Header -->
        <div class="header" id="header" style="display: none;">
            <div class="header-left">
                <div class="logo">DM</div>
                <div class="app-title">DataMantri</div>
            </div>
            <div class="header-right">
                <div class="header-btn" onclick="showNotifications()">
                    üîî
                    <div class="notification-badge"></div>
                </div>
                <div class="header-btn" onclick="openUserModal()">
                    üë§
                </div>
            </div>
        </div>

        <!-- Login Screen -->
        <div id="loginScreen" class="login-screen">
            <div class="login-card">
                <div class="logo-section">
                    <div class="logo-container">
                        <div class="logo-large">DM</div>
                    </div>
                    <div class="app-name">DataMantri</div>
                    <div class="tagline">Your Data, Your Insights</div>
                </div>

                <div class="form-section">
                    <div class="form-title">Welcome Back</div>
                    <div class="form-subtitle">Sign in to access your dashboards</div>

                    <div class="input-group">
                        <input type="email" class="input" id="emailInput" placeholder="Email address" />
                    </div>
                    <div class="input-group">
                        <input type="password" class="input" id="passwordInput" placeholder="Password" />
                    </div>

                    <button class="btn btn-primary" onclick="handleLogin()">
                        Sign In
                    </button>

                    <div class="divider">
                        <div class="divider-line"></div>
                        <div class="divider-text">OR</div>
                        <div class="divider-line"></div>
                    </div>

                    <button class="btn btn-secondary" onclick="handleDemoLogin()">
                        Try Demo
                    </button>
                </div>

                <div class="features">
                    <div class="feature-item">
                        <div class="feature-icon">‚úì</div>
                        <div class="feature-text">Interactive dashboards with real-time data</div>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">‚úì</div>
                        <div class="feature-text">AI-powered insights and recommendations</div>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">‚úì</div>
                        <div class="feature-text">Beautiful charts and visualizations</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Homepage -->
        <div id="homepage" class="homepage">
            <div class="main-content">
                <div class="welcome-section">
                    <div class="welcome-title">Welcome back, John! üëã</div>
                    <div class="welcome-subtitle">Here's what's happening with your data today</div>
                </div>

                <div class="quick-stats">
                    <div class="stat-card">
                        <div class="stat-value">24</div>
                        <div class="stat-label">Active Dashboards</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">156</div>
                        <div class="stat-label">Total Charts</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">89%</div>
                        <div class="stat-label">Data Freshness</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">12</div>
                        <div class="stat-label">Alerts</div>
                    </div>
                </div>

                <div class="folders-section">
                    <div class="section-title">
                        üìÅ Dashboard Folders
                    </div>
                    <div class="folders-grid">
                        <div class="folder-card" onclick="openFolder('business')">
                            <div class="folder-header">
                                <div class="folder-title">
                                    üìä Business Analytics
                                </div>
                                <div class="folder-count">8 dashboards</div>
                            </div>
                            <div class="folder-description">
                                Sales performance, revenue tracking, and business intelligence dashboards
                            </div>
                        </div>

                        <div class="folder-card" onclick="openFolder('marketing')">
                            <div class="folder-header">
                                <div class="folder-title">
                                    üì¢ Marketing & Growth
                                </div>
                                <div class="folder-count">6 dashboards</div>
                            </div>
                            <div class="folder-description">
                                Campaign performance, customer acquisition, and marketing ROI analysis
                            </div>
                        </div>

                        <div class="folder-card" onclick="openFolder('operations')">
                            <div class="folder-header">
                                <div class="folder-title">
                                    ‚öôÔ∏è Operations
                                </div>
                                <div class="folder-count">5 dashboards</div>
                            </div>
                            <div class="folder-description">
                                Inventory management, supply chain, and operational efficiency metrics
                            </div>
                        </div>

                        <div class="folder-card" onclick="openFolder('finance')">
                            <div class="folder-header">
                                <div class="folder-title">
                                    üí∞ Finance & Accounting
                                </div>
                                <div class="folder-count">4 dashboards</div>
                            </div>
                            <div class="folder-description">
                                Financial health, P&L analysis, and accounting performance metrics
                            </div>
                        </div>

                        <div class="folder-card" onclick="openFolder('hr')">
                            <div class="folder-header">
                                <div class="folder-title">
                                    üë• Human Resources
                                </div>
                                <div class="folder-count">3 dashboards</div>
                            </div>
                            <div class="folder-description">
                                Employee performance, recruitment metrics, and HR analytics
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Dashboard List -->
        <div id="dashboardList" class="dashboard-list">
            <div class="main-content">
                <div class="back-btn" onclick="goBack()">
                    ‚Üê Back to Home
                </div>
                <div id="dashboardContent"></div>
            </div>
        </div>
    </div>

    <script>
        let currentFolder = '';
        let chatOpen = false;

        async function handleLogin() {
            const email = document.getElementById('emailInput').value;
            const password = document.getElementById('passwordInput').value;
            
            if (!email || !password) {
                alert('Please enter both email and password');
                return;
            }
            
            try {
                // Try to login to your backend
                const response = await fetch('http://localhost:5000/api/auth/login', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ email, password }),
                    credentials: 'include'
                });
                
                if (response.ok) {
                    showHomepage();
                } else {
                    alert('Login failed. Please check your credentials.');
                }
            } catch (error) {
                console.log('Backend not available, using demo mode');
                showHomepage();
            }
        }

        async function handleDemoLogin() {
            try {
                // Try demo login to your backend
                const response = await fetch('http://localhost:5000/api/auth/demo-login', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    credentials: 'include'
                });
                
                if (response.ok) {
                    showHomepage();
                } else {
                    showHomepage(); // Fallback to demo mode
                }
            } catch (error) {
                console.log('Backend not available, using demo mode');
                showHomepage();
            }
        }

        async function showHomepage() {
            document.getElementById('loginScreen').style.display = 'none';
            document.getElementById('homepage').style.display = 'block';
            document.getElementById('header').style.display = 'flex';
            
            // Try to fetch real dashboard data
            await loadRealDashboardData();
        }

        async function loadRealDashboardData() {
            try {
                // Fetch dashboards from your backend
                const response = await fetch('http://localhost:5000/api/get-dashboards', {
                    method: 'GET',
                    credentials: 'include'
                });
                
                if (response.ok) {
                    const data = await response.json();
                    const dashboards = data.dashboards || [];
                    console.log('Real dashboards loaded:', dashboards);
                    
                    // Update the UI with real dashboard data
                    updateDashboardStats(dashboards);
                } else {
                    console.log('Using demo dashboard data');
                }
            } catch (error) {
                console.log('Backend not available, using demo data');
            }
        }

        function updateDashboardStats(dashboards) {
            // Update the quick stats with real data
            const statCards = document.querySelectorAll('.stat-card');
            if (statCards.length >= 4) {
                statCards[0].querySelector('.stat-value').textContent = dashboards.length || 24;
                statCards[1].querySelector('.stat-value').textContent = dashboards.reduce((total, dash) => total + (dash.spec?.charts?.length || 0), 0) || 156;
                statCards[2].querySelector('.stat-value').textContent = '89%'; // Data freshness
                statCards[3].querySelector('.stat-value').textContent = '12'; // Alerts
            }
        }

        function openFolder(folderType) {
            currentFolder = folderType;
            document.getElementById('homepage').style.display = 'none';
            document.getElementById('dashboardList').style.display = 'block';
            
            const dashboardContent = document.getElementById('dashboardContent');
            const dashboards = getDashboardsForFolder(folderType);
            
            dashboardContent.innerHTML = `
                <div class="section-title">
                    ${getFolderIcon(folderType)} ${getFolderName(folderType)} Dashboards
                </div>
                <div class="dashboard-grid">
                    ${dashboards.map(dashboard => `
                        <div class="dashboard-card" onclick="openDashboard('${dashboard.id}')">
                            <div class="dashboard-title">
                                ${dashboard.icon} ${dashboard.name}
                            </div>
                            <div class="dashboard-description">
                                ${dashboard.description}
                            </div>
                            <div class="dashboard-footer">
                                <span class="chart-count">${dashboard.charts} charts</span>
                                <span class="last-updated">${dashboard.updated}</span>
                            </div>
                        </div>
                    `).join('')}
                </div>
            `;
        }

        function getFolderIcon(folderType) {
            const icons = {
                'business': 'üìä',
                'marketing': 'üì¢',
                'operations': '‚öôÔ∏è',
                'finance': 'üí∞',
                'hr': 'üë•'
            };
            return icons[folderType] || 'üìÅ';
        }

        function getFolderName(folderType) {
            const names = {
                'business': 'Business Analytics',
                'marketing': 'Marketing & Growth',
                'operations': 'Operations',
                'finance': 'Finance & Accounting',
                'hr': 'Human Resources'
            };
            return names[folderType] || 'Dashboard';
        }

        function getDashboardsForFolder(folderType) {
            const dashboards = {
                'business': [
                    { id: 'sales', name: 'Sales Performance', description: 'Monthly sales metrics and revenue trends', charts: 8, updated: '2 hours ago', icon: 'üìà' },
                    { id: 'revenue', name: 'Revenue Analytics', description: 'Revenue tracking and growth analysis', charts: 6, updated: '1 hour ago', icon: 'üí∞' },
                    { id: 'customers', name: 'Customer Insights', description: 'Customer behavior and segmentation', charts: 7, updated: '3 hours ago', icon: 'üë•' },
                    { id: 'products', name: 'Product Performance', description: 'Product sales and inventory metrics', charts: 5, updated: '4 hours ago', icon: 'üì¶' },
                    { id: 'kpi', name: 'KPI Dashboard', description: 'Key performance indicators overview', charts: 9, updated: '1 hour ago', icon: 'üéØ' },
                    { id: 'regional', name: 'Regional Analysis', description: 'Geographic performance and trends', charts: 4, updated: '2 hours ago', icon: 'üåç' },
                    { id: 'seasonal', name: 'Seasonal Trends', description: 'Seasonal patterns and forecasting', charts: 6, updated: '5 hours ago', icon: 'üìÖ' },
                    { id: 'competitor', name: 'Competitor Analysis', description: 'Market position and competitive insights', charts: 3, updated: '1 day ago', icon: 'üèÜ' }
                ],
                'marketing': [
                    { id: 'campaigns', name: 'Campaign Performance', description: 'Marketing campaign ROI and effectiveness', charts: 6, updated: '1 hour ago', icon: 'üì¢' },
                    { id: 'acquisition', name: 'Customer Acquisition', description: 'New customer acquisition metrics', charts: 5, updated: '2 hours ago', icon: 'üéØ' },
                    { id: 'retention', name: 'Customer Retention', description: 'Customer retention and churn analysis', charts: 4, updated: '3 hours ago', icon: 'üîÑ' },
                    { id: 'conversion', name: 'Conversion Funnel', description: 'Sales funnel and conversion rates', charts: 7, updated: '1 hour ago', icon: 'üîÑ' },
                    { id: 'social', name: 'Social Media Analytics', description: 'Social media engagement and reach', charts: 8, updated: '30 min ago', icon: 'üì±' },
                    { id: 'email', name: 'Email Marketing', description: 'Email campaign performance metrics', charts: 5, updated: '2 hours ago', icon: 'üìß' }
                ],
                'operations': [
                    { id: 'inventory', name: 'Inventory Management', description: 'Stock levels and supply chain metrics', charts: 5, updated: '1 hour ago', icon: 'üì¶' },
                    { id: 'logistics', name: 'Logistics & Shipping', description: 'Shipping and delivery performance', charts: 4, updated: '2 hours ago', icon: 'üöö' },
                    { id: 'quality', name: 'Quality Control', description: 'Product quality and defect tracking', charts: 6, updated: '3 hours ago', icon: '‚úÖ' },
                    { id: 'efficiency', name: 'Operational Efficiency', description: 'Process efficiency and optimization', charts: 7, updated: '1 hour ago', icon: '‚ö°' },
                    { id: 'maintenance', name: 'Maintenance Tracking', description: 'Equipment maintenance and downtime', charts: 3, updated: '4 hours ago', icon: 'üîß' }
                ],
                'finance': [
                    { id: 'profit-loss', name: 'P&L Statement', description: 'Profit and loss analysis', charts: 8, updated: '1 hour ago', icon: 'üìä' },
                    { id: 'cash-flow', name: 'Cash Flow Analysis', description: 'Cash flow tracking and forecasting', charts: 6, updated: '2 hours ago', icon: 'üí∏' },
                    { id: 'budget', name: 'Budget vs Actual', description: 'Budget performance and variance', charts: 5, updated: '3 hours ago', icon: 'üìã' },
                    { id: 'expenses', name: 'Expense Tracking', description: 'Expense categorization and trends', charts: 4, updated: '1 hour ago', icon: 'üí≥' }
                ],
                'hr': [
                    { id: 'employee', name: 'Employee Performance', description: 'Individual and team performance metrics', charts: 6, updated: '2 hours ago', icon: 'üë§' },
                    { id: 'recruitment', name: 'Recruitment Analytics', description: 'Hiring metrics and candidate tracking', charts: 4, updated: '1 hour ago', icon: 'üéØ' },
                    { id: 'attendance', name: 'Attendance & Time', description: 'Employee attendance and time tracking', charts: 3, updated: '30 min ago', icon: '‚è∞' }
                ]
            };
            return dashboards[folderType] || [];
        }

        function goBack() {
            document.getElementById('dashboardList').style.display = 'none';
            document.getElementById('homepage').style.display = 'block';
        }

        function openDashboard(dashboardId) {
            // Open dashboard in new tab/window to your main app
            const dashboardUrl = `http://localhost:5000/dashboard/${dashboardId}`;
            window.open(dashboardUrl, '_blank');
        }

        function openUserModal() {
            document.getElementById('userModal').classList.add('show');
        }

        function closeUserModal() {
            document.getElementById('userModal').classList.remove('show');
        }

        function showNotifications() {
            alert('Notifications: You have 12 new alerts and 3 dashboard updates');
        }

        function showSettings() {
            alert('Settings: App preferences, themes, and configuration options');
        }

        function showHelp() {
            alert('Help & Support: Contact support, view documentation, and get assistance');
        }

        function showAbout() {
            alert('About DataMantri Mobile v1.0.0\n\nYour comprehensive data analytics platform with AI-powered insights.');
        }

        function handleLogout() {
            document.getElementById('homepage').style.display = 'none';
            document.getElementById('dashboardList').style.display = 'none';
            document.getElementById('header').style.display = 'none';
            document.getElementById('loginScreen').style.display = 'flex';
            document.getElementById('emailInput').value = '';
            document.getElementById('passwordInput').value = '';
            closeUserModal();
            
            // Close chat if open
            if (chatOpen) {
                toggleChat();
            }
        }

        // Chat functions
        function toggleChat() {
            const modal = document.getElementById('chatModal');
            chatOpen = !chatOpen;
            
            if (chatOpen) {
                modal.classList.add('show');
            } else {
                modal.classList.remove('show');
            }
        }

        function handleChatKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        function sendMessage() {
            const input = document.getElementById('chatInput');
            const messages = document.getElementById('chatMessages');
            const message = input.value.trim();
            
            if (!message) return;

            // Add user message
            messages.innerHTML += `
                <div class="message user">
                    <div class="message-avatar">üë§</div>
                    <div class="message-content">${message}</div>
                </div>
            `;

            // Clear input
            input.value = '';

            // Simulate AI response
            setTimeout(() => {
                const responses = [
                    "üöÄ I can help you analyze your dashboard data! Try asking me about specific metrics like 'Show me sales performance' or 'What are the top products?' I'll fetch real data from your connected data sources.",
                    "üìä Your dashboards are connected to real data sources. I can help you understand trends, identify patterns, and provide insights from your actual business data.",
                    "üåç I can analyze your regional performance, customer segments, and operational metrics. Just ask me specific questions about your data!",
                    "üìà I'm connected to your DataMantri backend and can provide insights from your actual dashboards. What would you like to know about your data?",
                    "üë• I can help you explore your customer analytics, sales trends, and business performance. Ask me about any specific metric or dashboard!"
                ];
                
                const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                
                messages.innerHTML += `
                    <div class="message ai">
                        <div class="message-avatar">ü§ñ</div>
                        <div class="message-content">${randomResponse}</div>
                    </div>
                `;

                messages.scrollTop = messages.scrollHeight;
            }, 1000);

            messages.scrollTop = messages.scrollHeight;
        }

        // Initialize on load
        document.addEventListener('DOMContentLoaded', function() {
            // Add click effects to buttons
            document.querySelectorAll('.btn').forEach(btn => {
                btn.addEventListener('click', function(e) {
                    this.style.transform = 'scale(0.98)';
                    setTimeout(() => {
                        this.style.transform = 'scale(1)';
                    }, 150);
                });
            });
        });
    </script>
</body>
</html>